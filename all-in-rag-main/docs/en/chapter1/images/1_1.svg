<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1116.798583984375 157.37269592285156" height="157.37269592285156" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="1116.798583984375" id="mermaid-29"><style>#mermaid-29{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#242424;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-29 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-29 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-29 .error-icon{fill:#eb4d5d;}#mermaid-29 .error-text{fill:#fff;stroke:#fff;}#mermaid-29 .edge-thickness-normal{stroke-width:1px;}#mermaid-29 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-29 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-29 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-29 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-29 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-29 .marker{fill:#333;stroke:#333;}#mermaid-29 .marker.cross{stroke:#333;}#mermaid-29 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-29 p{margin:0;}#mermaid-29 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#242424;}#mermaid-29 .cluster-label text{fill:#333;}#mermaid-29 .cluster-label span{color:#333;}#mermaid-29 .cluster-label span p{background-color:transparent;}#mermaid-29 .label text,#mermaid-29 span{fill:#242424;color:#242424;}#mermaid-29 .node rect,#mermaid-29 .node circle,#mermaid-29 .node ellipse,#mermaid-29 .node polygon,#mermaid-29 .node path{fill:#4abf8a;stroke:#4abf8a;stroke-width:1px;}#mermaid-29 .rough-node .label text,#mermaid-29 .node .label text,#mermaid-29 .image-shape .label,#mermaid-29 .icon-shape .label{text-anchor:middle;}#mermaid-29 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-29 .rough-node .label,#mermaid-29 .node .label,#mermaid-29 .image-shape .label,#mermaid-29 .icon-shape .label{text-align:center;}#mermaid-29 .node.clickable{cursor:pointer;}#mermaid-29 .root .anchor path{fill:#333!important;stroke-width:0;stroke:#333;}#mermaid-29 .arrowheadPath{fill:#000000;}#mermaid-29 .edgePath .path{stroke:#333;stroke-width:2.0px;}#mermaid-29 .flowchart-link{stroke:#333;fill:none;}#mermaid-29 .edgeLabel{background-color:#ffb500;text-align:center;}#mermaid-29 .edgeLabel p{background-color:#ffb500;}#mermaid-29 .edgeLabel rect{opacity:0.5;background-color:#ffb500;fill:#ffb500;}#mermaid-29 .labelBkg{background-color:rgba(255, 181, 0, 0.5);}#mermaid-29 .cluster rect{fill:#efeef4;stroke:#242424;stroke-width:1px;}#mermaid-29 .cluster text{fill:#333;}#mermaid-29 .cluster span{color:#333;}#mermaid-29 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:#efeef4;border:1px solid #242424;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-29 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#242424;}#mermaid-29 rect.text{fill:none;stroke-width:0;}#mermaid-29 .icon-shape,#mermaid-29 .image-shape{background-color:#ffb500;text-align:center;}#mermaid-29 .icon-shape p,#mermaid-29 .image-shape p{background-color:#ffb500;padding:2px;}#mermaid-29 .icon-shape rect,#mermaid-29 .image-shape rect{opacity:0.5;background-color:#ffb500;fill:#ffb500;}#mermaid-29 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-29 .userNode&gt;*{fill:#e6f7ff!important;stroke:#1890ff!important;stroke-width:2px!important;}#mermaid-29 .userNode span{fill:#e6f7ff!important;stroke:#1890ff!important;stroke-width:2px!important;}#mermaid-29 .processNode&gt;*{fill:#f6ffed!important;stroke:#52c41a!important;stroke-width:2px!important;}#mermaid-29 .processNode span{fill:#f6ffed!important;stroke:#52c41a!important;stroke-width:2px!important;}#mermaid-29 .dbNode&gt;*{fill:#fffbe6!important;stroke:#faad14!important;stroke-width:2px!important;shape:cylinder!important;}#mermaid-29 .dbNode span{fill:#fffbe6!important;stroke:#faad14!important;stroke-width:2px!important;shape:cylinder!important;}#mermaid-29 .docNode&gt;*{fill:#f9f0ff!important;stroke:#722ed1!important;stroke-width:2px!important;}#mermaid-29 .docNode span{fill:#f9f0ff!important;stroke:#722ed1!important;stroke-width:2px!important;}#mermaid-29 .outputNode&gt;*{fill:#fff2e8!important;stroke:#fa541c!important;stroke-width:2px!important;}#mermaid-29 .outputNode span{fill:#fff2e8!important;stroke:#fa541c!important;stroke-width:2px!important;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-29_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-29_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-29_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-29_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-29_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-29_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="生成阶段" class="cluster"><rect height="123.99306106567383" width="343.5185241699219" y="16.689817428588867" x="765.2800979614258" style=""></rect><g transform="translate(905.0486183166504, 16.689817428588867)" class="cluster-label"><foreignObject height="23.993057250976562" width="63.981483459472656"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>生成阶段</p></span></div></foreignObject></g></g><g data-look="classic" id="检索阶段" class="cluster"><rect height="141.37269592285156" width="533.2986221313477" y="8" x="181.98147583007812" style=""></rect><g transform="translate(416.6400451660156, 8)" class="cluster-label"><foreignObject height="23.993057250976562" width="63.981483459472656"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>检索阶段</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-29_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M131.981,78.686L136.148,78.686C140.315,78.686,148.648,78.686,156.981,78.686C165.315,78.686,173.648,78.686,181.315,78.686C188.981,78.686,195.981,78.686,199.481,78.686L202.981,78.686"></path><path marker-end="url(#mermaid-29_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_0" d="M330.963,78.686L335.13,78.686C339.296,78.686,347.63,78.686,355.296,78.686C362.963,78.686,369.963,78.686,373.463,78.686L376.963,78.686"></path><path marker-end="url(#mermaid-29_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_0" d="M475.928,78.686L480.095,78.686C484.262,78.686,492.595,78.686,500.262,78.686C507.928,78.686,514.928,78.686,518.428,78.686L521.928,78.686"></path><path marker-end="url(#mermaid-29_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_E_0" d="M690.28,78.686L694.447,78.686C698.613,78.686,706.947,78.686,715.28,78.686C723.613,78.686,731.947,78.686,740.28,78.686C748.613,78.686,756.947,78.686,764.613,78.686C772.28,78.686,779.28,78.686,782.78,78.686L786.28,78.686"></path><path marker-end="url(#mermaid-29_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_0" d="M914.262,78.686L918.428,78.686C922.595,78.686,930.928,78.686,938.595,78.686C946.262,78.686,953.262,78.686,956.762,78.686L960.262,78.686"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(69.99073791503906, 78.68634796142578)" id="flowchart-A-0" class="node default userNode"><rect height="53.99305725097656" width="123.98148345947266" y="-26.99652862548828" x="-61.99074172973633" style="fill:#e6f7ff !important;stroke:#1890ff !important;stroke-width:2px !important" class="basic label-container"></rect><g transform="translate(-31.990741729736328, -11.996528625488281)" style="" class="label"><rect></rect><foreignObject height="23.993057250976562" width="63.981483459472656"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>用户查询</p></span></div></foreignObject></g></g><g transform="translate(268.9722137451172, 78.68634796142578)" id="flowchart-B-1" class="node default processNode"><rect height="53.99305725097656" width="123.98148345947266" y="-26.99652862548828" x="-61.99074172973633" style="fill:#f6ffed !important;stroke:#52c41a !important;stroke-width:2px !important" class="basic label-container"></rect><g transform="translate(-31.990741729736328, -11.996528625488281)" style="" class="label"><rect></rect><foreignObject height="23.993057250976562" width="63.981483459472656"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>检索模块</p></span></div></foreignObject></g></g><g transform="translate(428.4455909729004, 78.68634796142578)" id="flowchart-C-2" class="node default dbNode"><path transform="translate(-47.48263931274414, -35.68634717643826)" style="fill:#fffbe6 !important;stroke:#faad14 !important;stroke-width:2px !important;shape:cylinder !important" class="basic label-container" d="M0,10.793212367299985 a47.48263931274414,10.793212367299985 0,0,0 94.96527862548828,0 a47.48263931274414,10.793212367299985 0,0,0 -94.96527862548828,0 l0,49.78626961827655 a47.48263931274414,10.793212367299985 0,0,0 94.96527862548828,0 l0,-49.78626961827655"></path><g transform="translate(-39.98263931274414, -1.9965286254882812)" style="" class="label"><rect></rect><foreignObject height="23.993057250976562" width="79.96527862548828"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>外部知识库</p></span></div></foreignObject></g></g><g transform="translate(608.1041641235352, 78.68634796142578)" id="flowchart-D-3" class="node default docNode"><rect height="53.99305725097656" width="164.35186004638672" y="-26.99652862548828" x="-82.17593002319336" style="fill:#f9f0ff !important;stroke:#722ed1 !important;stroke-width:2px !important" class="basic label-container"></rect><g transform="translate(-52.17593002319336, -11.996528625488281)" style="" class="label"><rect></rect><foreignObject height="23.993057250976562" width="104.35186004638672"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>相关文档/片段</p></span></div></foreignObject></g></g><g transform="translate(852.2708358764648, 78.68634796142578)" id="flowchart-E-4" class="node default processNode"><rect height="53.99305725097656" width="123.98148345947266" y="-26.99652862548828" x="-61.99074172973633" style="fill:#f6ffed !important;stroke:#52c41a !important;stroke-width:2px !important" class="basic label-container"></rect><g transform="translate(-31.990741729736328, -11.996528625488281)" style="" class="label"><rect></rect><foreignObject height="23.993057250976562" width="63.981483459472656"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>生成模块</p></span></div></foreignObject></g></g><g transform="translate(1024.0300979614258, 78.68634796142578)" id="flowchart-F-5" class="node default outputNode"><rect height="53.99305725097656" width="119.53704071044922" y="-26.99652862548828" x="-59.76852035522461" style="fill:#fff2e8 !important;stroke:#fa541c !important;stroke-width:2px !important" class="basic label-container"></rect><g transform="translate(-29.76852035522461, -11.996528625488281)" style="" class="label"><rect></rect><foreignObject height="23.993057250976562" width="59.53704071044922"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>LLM响应</p></span></div></foreignObject></g></g></g></g></g></svg>